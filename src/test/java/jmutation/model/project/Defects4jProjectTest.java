package jmutation.model.project;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import java.io.IOException;
import java.nio.file.Path;

import static org.junit.jupiter.api.Assertions.*;

class Defects4jProjectTest {
    private Path testFilePath = Path.of("src", "test", "files", "jmutation", "model", "project");
    private Defects4jProject project;

    @BeforeEach
    void setUp() {
        project = new Defects4jProject("", testFilePath.toFile(), null, null, null, null, null);
    }

    @Test
    void getFailingTests_FailingTestsFile_GetsFailingTestNames() throws IOException {
        String[] failingTests = project.getFailingTests();
        String[] expected = new String[]{"org.jfree.chart.axis.junit.SubCategoryAxisTests::test2275695", "org.jfree.chart.junit.AreaChartTests::testDrawWithNullInfo", "org.jfree.chart.junit.AreaChartTests::testSetSeriesToolTipGenerator", "org.jfree.chart.junit.AreaChartTests::testSetSeriesURLGenerator", "org.jfree.chart.junit.BarChart3DTests::testDrawWithNullInfo", "org.jfree.chart.junit.BarChart3DTests::testSetSeriesToolTipGenerator", "org.jfree.chart.junit.BarChart3DTests::testSetSeriesURLGenerator", "org.jfree.chart.junit.BarChartTests::testDrawWithNullInfo", "org.jfree.chart.junit.BarChartTests::testSetSeriesToolTipGenerator", "org.jfree.chart.junit.BarChartTests::testSetSeriesURLGenerator", "org.jfree.chart.junit.GanttChartTests::testDrawWithNullInfo", "org.jfree.chart.junit.GanttChartTests::testSetSeriesToolTipGenerator", "org.jfree.chart.junit.GanttChartTests::testSetSeriesURLGenerator", "org.jfree.chart.junit.GanttChartTests::testDrawWithNullInfo2", "org.jfree.chart.junit.LineChart3DTests::testDrawWithNullInfo", "org.jfree.chart.junit.LineChart3DTests::testSetSeriesToolTipGenerator", "org.jfree.chart.junit.LineChart3DTests::testSetSeriesURLGenerator", "org.jfree.chart.junit.LineChartTests::testDrawWithNullInfo", "org.jfree.chart.junit.LineChartTests::testSetSeriesToolTipGenerator", "org.jfree.chart.junit.LineChartTests::testSetSeriesURLGenerator", "org.jfree.chart.junit.StackedAreaChartTests::testDrawWithNullInfo", "org.jfree.chart.junit.StackedAreaChartTests::testSetSeriesToolTipGenerator", "org.jfree.chart.junit.StackedAreaChartTests::testSetSeriesURLGenerator", "org.jfree.chart.junit.StackedBarChart3DTests::testDrawWithNullInfo", "org.jfree.chart.junit.StackedBarChart3DTests::testSetSeriesToolTipGenerator", "org.jfree.chart.junit.StackedBarChart3DTests::testSetSeriesURLGenerator", "org.jfree.chart.junit.StackedBarChartTests::testDrawWithNullInfo", "org.jfree.chart.junit.StackedBarChartTests::testSetSeriesToolTipGenerator", "org.jfree.chart.junit.StackedBarChartTests::testSetSeriesURLGenerator", "org.jfree.chart.junit.WaterfallChartTests::testDrawWithNullInfo", "org.jfree.chart.junit.WaterfallChartTests::testSetSeriesToolTipGenerator", "org.jfree.chart.junit.WaterfallChartTests::testSetSeriesURLGenerator", "org.jfree.chart.plot.junit.CategoryPlotTests::test1654215", "org.jfree.chart.plot.junit.CategoryPlotTests::testSerialization3", "org.jfree.chart.plot.junit.CategoryPlotTests::testSerialization4", "org.jfree.chart.plot.junit.CombinedDomainCategoryPlotTests::testNotification", "org.jfree.chart.plot.junit.CombinedRangeCategoryPlotTests::testNotification", "org.jfree.chart.renderer.category.junit.AbstractCategoryItemRendererTests::testGetSeriesURLGenerator", "org.jfree.chart.renderer.category.junit.AbstractCategoryItemRendererTests::test2947660", "org.jfree.chart.renderer.category.junit.AbstractCategoryItemRendererTests::testEquals", "org.jfree.chart.renderer.category.junit.AbstractCategoryItemRendererTests::testGetSeriesItemLabelGenerator", "org.jfree.chart.renderer.category.junit.AbstractCategoryItemRendererTests::testCloning1", "org.jfree.chart.renderer.category.junit.AbstractCategoryItemRendererTests::testCloning2", "org.jfree.chart.renderer.category.junit.AreaRendererTests::testGetLegendItemSeriesIndex", "org.jfree.chart.renderer.category.junit.BarRendererTests::testGetLegendItemSeriesIndex", "org.jfree.chart.renderer.category.junit.BarRendererTests::testGetLegendItem", "org.jfree.chart.renderer.category.junit.BoxAndWhiskerRendererTests::testDrawWithNullInfo", "org.jfree.chart.renderer.category.junit.BoxAndWhiskerRendererTests::testDrawWithNullMean", "org.jfree.chart.renderer.category.junit.BoxAndWhiskerRendererTests::testDrawWithNullMinRegular", "org.jfree.chart.renderer.category.junit.BoxAndWhiskerRendererTests::testBug1572478Vertical", "org.jfree.chart.renderer.category.junit.BoxAndWhiskerRendererTests::testDrawWithNullMedian", "org.jfree.chart.renderer.category.junit.BoxAndWhiskerRendererTests::testDrawWithNullMaxRegular", "org.jfree.chart.renderer.category.junit.BoxAndWhiskerRendererTests::testGetLegendItemSeriesIndex", "org.jfree.chart.renderer.category.junit.BoxAndWhiskerRendererTests::testDrawWithNullMinOutlier", "org.jfree.chart.renderer.category.junit.BoxAndWhiskerRendererTests::testDrawWithNullQ1", "org.jfree.chart.renderer.category.junit.BoxAndWhiskerRendererTests::testDrawWithNullQ3", "org.jfree.chart.renderer.category.junit.BoxAndWhiskerRendererTests::testGetLegendItem", "org.jfree.chart.renderer.category.junit.BoxAndWhiskerRendererTests::testBug1572478Horizontal", "org.jfree.chart.renderer.category.junit.BoxAndWhiskerRendererTests::testDrawWithNullMaxOutlier", "org.jfree.chart.renderer.category.junit.CategoryStepRendererTests::testGetLegendItemSeriesIndex", "org.jfree.chart.renderer.category.junit.GroupedStackedBarRendererTests::testDrawWithNullInfo", "org.jfree.chart.renderer.category.junit.IntervalBarRendererTests::testDrawWithNullInfo", "org.jfree.chart.renderer.category.junit.LayeredBarRendererTests::testDrawWithNullInfo", "org.jfree.chart.renderer.category.junit.LevelRendererTests::testDrawWithNullInfo", "org.jfree.chart.renderer.category.junit.LevelRendererTests::testGetLegendItemSeriesIndex", "org.jfree.chart.renderer.category.junit.LineAndShapeRendererTests::testGetLegendItemSeriesIndex", "org.jfree.chart.renderer.category.junit.MinMaxCategoryRendererTests::testDrawWithNullInfo", "org.jfree.chart.renderer.category.junit.StatisticalBarRendererTests::testDrawWithNullInfo", "org.jfree.chart.renderer.category.junit.StatisticalBarRendererTests::testDrawWithNullMeanVertical", "org.jfree.chart.renderer.category.junit.StatisticalBarRendererTests::testDrawWithNullDeviationVertical", "org.jfree.chart.renderer.category.junit.StatisticalBarRendererTests::testDrawWithNullMeanHorizontal", "org.jfree.chart.renderer.category.junit.StatisticalBarRendererTests::testDrawWithNullDeviationHorizontal", "org.jfree.chart.renderer.category.junit.StatisticalLineAndShapeRendererTests::testDrawWithNullInfo"};
        assertArrayEquals(expected, failingTests);
    }
}